# Claude Work Handoff - React 19 Upgrade

## Original Plan

See: `plans/react-19-and-dependency-upgrades.md`

## Clarified Requirements

- **Scope**: All 4 phases sequentially
- **Testing**: Run `/workflows:test` with comprehensive test suite between each phase
- **Environment**: Worktree (this directory)

## Phase Overview

| Phase | Scope | Est. Duration |
|-------|-------|---------------|
| **Phase 1** | Complete MobX migration (98 files in space/admin) | 5-8 days |
| **Phase 2** | Headless UI 1.7 → 2.x (50 files) | 2-3 days |
| **Phase 3** | React 18 → 19 + TypeScript types | 1-2 days |
| **Phase 4** | forwardRef cleanup + Actions adoption | Ongoing |

**Between each phase**: Run `/workflows:test` comprehensive suite

## Initial Todo List

### Phase 1: MobX Migration
- [ ] Audit all MobX usage in apps/space (55+ files)
- [ ] Audit all MobX usage in apps/admin (40+ files)
- [ ] Create migration plan for each store
- [ ] Migrate apps/space components
- [ ] Migrate apps/admin components
- [ ] Remove MobX from pnpm catalog
- [ ] Run `/workflows:test` comprehensive suite

### Phase 2: Headless UI v2
- [ ] Read Headless UI v2 migration guide
- [ ] Update packages/ui components (16 files)
- [ ] Update apps/web usage (33 files)
- [ ] Test Storybook
- [ ] Run `/workflows:test` comprehensive suite

### Phase 3: React 19 Core
- [ ] Run TypeScript codemod
- [ ] Update pnpm-workspace.yaml catalog
- [ ] Fix TypeScript errors
- [ ] Test all apps
- [ ] Run `/workflows:test` comprehensive suite

### Phase 4: Feature Adoption
- [ ] Remove forwardRef wrappers (priority files)
- [ ] Implement form Actions POC
- [ ] Document new patterns

## Key Files

### MobX Usage Locations
```
apps/space/core/store/root.store.ts
apps/space/core/components/issues/**
apps/admin/core/store/root.store.ts
apps/admin/app/(all)/**
```

### Headless UI Locations
```
packages/ui/src/dropdown/**
packages/ui/src/modals/**
packages/ui/src/tabs/**
packages/ui/src/popovers/**
```

### Version Catalog
```
pnpm-workspace.yaml - Central version management
```

## Reference Documentation

- [React 19 Upgrade Guide](https://react.dev/blog/2024/04/25/react-19-upgrade-guide)
- [Headless UI v2 Migration](https://headlessui.com/v2)
- [TanStack Query v5 Docs](https://tanstack.com/query/latest)
- Internal: `/plans/migrate-mobx-to-zustand-tanstack.md`
- Internal: `/MIGRATION_SUMMARY.md`

## Context

- Created: 2025-12-22
- Branch: react-19-upgrade
- Base: master
- Worktree Path: /Users/corcoss/code/plane-react-19-upgrade
